<div class="title">
	<h2>{{id ? 'REDIGER ANNONSE' : 'OPPRETT NY ANNONSE'}}</h2>
</div>

<div class="postform">
	<div class="greenBox">
		<app-input [(inputModel)]="title" type="text" label="Annonsens tittel" (blur)="checkForm()" [dark]="false"></app-input>

		<div class="whiteBox">
			<app-text-area-input [(inputModel)]="description" label="Beskrivelse" (blur)="checkForm()"></app-text-area-input>

			<div class="horizontalGrid">
				<app-input [(inputModel)]="price" type="number" label="Pris" (blur)="checkForm()"></app-input>

				<app-select [(inputModel)]="categoryid" (change)="checkForm()">
					<option value="0" [selected]="categoryid == 0" hidden>Velg kategori . . .</option>
					<option *ngFor="let category of categories" [value]="category.getCategoryId" [selected]="categoryid == category.getCategoryId">{{category.getName}}</option>
				</app-select>
			</div>

			<app-input [(inputModel)]="imageUrl" type="text" label="Bilde URL" (blur)="showImage(imageUrl)"></app-input>
			<img [src]="displayImageUrl" (error)="showImage('https://i.stack.imgur.com/y9DpT.jpg')">

			<p>{{statusMessage}}</p>

			<app-button (click)="publishPost()" text="Publiser"></app-button>
			<app-button *ngIf="id" (click)="deletePost()" text="Slett annonse"></app-button>
		</div>
	</div>
</div>
